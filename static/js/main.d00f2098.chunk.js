(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[0],{21:function(e,t,c){},22:function(e,t,c){},23:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){},52:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(15),i=c.n(a),r=(c(21),c(10)),o=(c(22),c(23),c(8)),l=c(0),u=function(e,t){return e.reduce((function(e,c){return(e[c[t]]=e[c[t]]||[]).push(c),e}),{})},j=function(e){var t=e.setSearchResult;return Object(l.jsx)("div",{className:"form-container",children:Object(l.jsxs)("form",{id:"search-form",children:[Object(l.jsx)("input",{type:"text",id:"search-input",placeholder:"search"}),Object(l.jsx)("button",{id:"search-btn",onClick:function(e){e.preventDefault();var c=document.querySelector("#search-input").value;fetch("https://itunes.apple.com/search?media=all&term="+c.replace(" ","+")+"&limit=25").then((function(e){return e.json()})).then((function(e){var c=e.results,n=u(c,"kind");t(n)})).catch((function(e){return console.log(e)}))},children:Object(l.jsx)(o.a,{icon:"search"})})]})})};c(30);var d,b=function(e){var t=e.setSearchResult;return Object(l.jsx)("div",{className:"header-container",children:Object(l.jsx)(j,{setSearchResult:t})})},h=c(5),m=(c(31),function(e){var t=e.data,c=e.musicState,n=e.setMusicState,s=["feature-movie","music-video","tv-episode"],a=["song","coached-audio","undefined","podcast","podcast-episode"];return Object(l.jsxs)("div",{className:"item-container",onClick:function(e){var i=!1,r="other";s.includes(t.kind)?(r="video",i=!0,console.log("VIDEO: ",i)):a.includes(t.kind)&&(r="music"),n(Object(h.a)(Object(h.a)({},c),{},{url:t.previewUrl,contentInfo:t,visible:i,contentType:r,progress:0}))},children:[Object(l.jsx)("img",{className:"item-image",src:t.artworkUrl100,alt:""}),Object(l.jsxs)("div",{className:"item-info",children:[Object(l.jsx)("h4",{children:t.trackName}),Object(l.jsxs)("h5",{children:[t.artistName," | ",t.primaryGenreName]})]})]})}),p=(c(32),function(e){var t=e.searchResult,c=e.group,n=e.musicState,s=e.setMusicState;return console.log(t),Object(l.jsxs)("div",{className:"result-container",children:[Object(l.jsx)("h3",{children:c.replace("-"," ")}),t.map((function(e){return Object(l.jsx)(m,{data:e,musicState:n,setMusicState:s})}))]})}),O=(c(33),c(16)),f=c.n(O),v=function(e){var t=e.musicState,c=e.setMusicState;return Object(l.jsxs)("div",{className:"player-container",children:[Object(l.jsxs)("div",{className:"media-diplay"+(t.visible?"":" hidden"),children:[Object(l.jsx)("button",{className:"close-btn",onClick:function(){c(Object(h.a)(Object(h.a)({},t),{},{playing:!1,visible:!1}))},children:"\u2717"}),Object(l.jsx)("div",{className:"video-container"+("video"===t.contentType?"":" hidden"),children:Object(l.jsx)(f.a,{ref:function(e){d=e},url:t.url,playing:t.playing,width:"100%",height:"100%",onProgress:function(e){console.log("onProgress",e),c(Object(h.a)(Object(h.a)({},t),{},{progress:e.playedSeconds}))},onDuration:function(e){console.log(e),c(Object(h.a)(Object(h.a)({},t),{},{duration:e}))}})})]}),Object(l.jsxs)("div",{className:"media-player-bar",children:["artistName"in t.contentInfo?Object(l.jsxs)("div",{className:"current-content",children:[Object(l.jsx)("img",{src:t.contentInfo.artworkUrl100,alt:""}),Object(l.jsxs)("div",{className:"item-info",children:[Object(l.jsx)("h4",{children:t.contentInfo.trackName}),Object(l.jsxs)("h5",{children:[t.contentInfo.artistName," | ",t.contentInfo.primaryGenreName]})]})]}):null,Object(l.jsxs)("div",{className:"play-controls",children:[Object(l.jsx)("button",{className:"rewind-btn",children:Object(l.jsx)(o.a,{icon:"backward",onClick:function(){console.log("player -- ",d);var e=t.progress-5;e<0&&(e=0),d.seekTo(e)}})}),Object(l.jsx)("button",{className:"play-btn",onClick:function(){c(Object(h.a)(Object(h.a)({},t),{},{playing:!t.playing}))},children:Object(l.jsx)(o.a,{icon:t.playing?"pause":"play"})}),Object(l.jsx)("button",{className:"forward-btn",onClick:function(){console.log("player -- ",d);var e=t.progress+5;e>t.duration&&(e=t.duration),d.seekTo(e)},children:Object(l.jsx)(o.a,{icon:"forward"})})]})]})]})};var x=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)({url:"",playing:!1,controls:!0,visible:!1,player:null,contentType:"other",contentInfo:{}}),i=Object(r.a)(a,2),o=i[0],u=i[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(b,{setSearchResult:s}),Object(l.jsx)("ul",{className:"kind-list",children:Object.entries(c).map((function(e){var t=Object(r.a)(e,2),c=t[0],n=t[1];return console.log(n,c),Object(l.jsx)(p,{searchResult:n,group:c,musicState:o,setMusicState:u})}))}),Object(l.jsx)(v,{musicState:o,setMusicState:u})]})},g=c(7),y=c(6);g.b.add(y.b,y.d,y.c,y.a,y.g,y.f,y.e,y.h),i.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(x,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.d00f2098.chunk.js.map