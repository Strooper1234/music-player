{"version":3,"sources":["components/Form.js","components/Header.js","components/Player.js","components/ResultItem.js","components/Result.js","App.js","index.js"],"names":["groupBy","array","key","reduce","result","x","push","Form","setSearchResult","className","id","type","placeholder","onClick","e","preventDefault","value","document","querySelector","fetch","replace","then","response","json","data","res","results","group_results","catch","error","console","log","icon","Header","player","ResultItem","musicState","setMusicState","videoKinds","musicKinds","visible","contentType","includes","kind","url","previewUrl","contentInfo","progress","src","artworkUrl100","alt","trackName","artistName","primaryGenreName","Result","searchResult","group","map","Player","playing","ref","p","width","height","onProgress","state","playedSeconds","onDuration","duration","time","seekTo","App","useState","controls","Object","entries","library","add","faCheckSquare","faCoffee","faClock","faBackward","faPlay","faPause","faForward","faSearch","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d00f2098.chunk.js","sourcesContent":["import React from 'react'\nimport './Form.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nconst Form = ({setSearchResult}) => {\n    const submitButtonHandler = (e) => {\n        e.preventDefault();\n        const value = document.querySelector('#search-input').value;\n        \n        itunesSearch(value);\n    };\n    // const url = 'https://itunes.apple.com/search?term=jack+johnson'\n    function itunesSearch(search) {\n        // const payload = {\n        //     body: {\n        //         term: search.replace(' ', '+'),\n        //     },\n        //     method: \"GET\"\n        // }\n        // console.log(payload)\n        fetch('https://itunes.apple.com/search?media=all&term=' + search.replace(' ', '+') + '&limit=25')\n        .then(response => {\n            return response.json();\n        })\n        .then( data => {\n            const res = data.results;\n            const group_results = groupBy(res, 'kind');\n            // setSearchResult(res);\n            setSearchResult(group_results);\n        })\n        .catch(error => console.log(error))\n    }\n    return (\n        <div className=\"form-container\">\n            <form id=\"search-form\">\n                <input type=\"text\" id=\"search-input\" placeholder=\"search\"/>\n                <button id=\"search-btn\" onClick={submitButtonHandler} >\n                    <FontAwesomeIcon icon=\"search\"/>\n                </button>\n            </form>\n            \n        </div>\n    )\n}\n\n// helper function\n\nconst groupBy = (array, key) => {\n    return array.reduce( (result, x) => {\n        //if array exist push to that one, if doesn't create one\n        (result[ x[key] ] = result[ x[key] ] || []).push(x);\n        return result;\n    }, {});\n}\n\n\nexport default Form\n","import React from 'react'\nimport Form from './Form';\nimport './Header.css';\n\nfunction Header({setSearchResult}) {\n    return (\n        <div className=\"header-container\">\n            <Form setSearchResult={setSearchResult}/>\n        </div>\n    )\n}\n\nexport default Header\n","import React from 'react'\nimport './Player.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport ReactPlayer from 'react-player';\n\nlet player;\nconst Player = ({musicState, setMusicState}) => {\n\n    // controls helper functions\n    // const handleStop = () => {\n    //     setMusicState({ url: null, playing: false })\n    //     console.log(musicState)\n    // }\n    const handlePlayPause = () => {\n        setMusicState({...musicState, playing: !musicState.playing })\n        // console.log(musicState)\n    }\n    const handleCloseMedia = () => {\n        setMusicState({...musicState, playing: false, visible: false})\n    }\n    const handleProgress = state => {\n        console.log(\"onProgress\", state);\n        setMusicState({...musicState, progress: state.playedSeconds})\n        //state.playedSeconds its how many second have been watched\n    }\n    const handleDuration = (duration) => {\n        console.log(duration);\n        setMusicState({...musicState, duration: duration})\n    }\n    const ref = (p) => {\n        player = p;\n        // console.log(\"player\", player);\n        // if(player != null) {\n\n        //     // setMusicState({...musicState, player: player})\n        //     // setPlayer(player);\n        // }\n    }\n    const handleTimeForward = () => {\n        console.log(\"player -- \", player)\n        let time = musicState.progress + 5;\n        if ( time > musicState.duration) {\n            time = musicState.duration;\n        }\n        player.seekTo(time);\n    }\n    const handleTimeBackwards = () => {\n        console.log(\"player -- \", player)\n        let time = musicState.progress - 5;\n        if ( time < 0) {\n            time = 0;\n        }\n        player.seekTo(time);\n    }\n\n    const renderInfo = () => {\n        if('artistName' in musicState.contentInfo) {\n            return (\n                <div className=\"current-content\">\n                    <img src={musicState.contentInfo.artworkUrl100} alt=\"\" />\n                    <div className=\"item-info\">\n                        <h4>{musicState.contentInfo.trackName}</h4>\n                        <h5>{musicState.contentInfo.artistName} | {musicState.contentInfo.primaryGenreName}</h5>\n                    </div>\n                </div>\n            );\n        }\n        return null;\n    }\n\n\n    return (\n        <div className=\"player-container\">\n            <div className={\"media-diplay\" + (musicState.visible ? \"\" : \" hidden\") }>\n                <button className=\"close-btn\" onClick={handleCloseMedia}>\n                    &#x2717;\n                </button>\n                <div className={\"video-container\" + (musicState.contentType === \"video\" ? \"\" : \" hidden\")}>\n                    <ReactPlayer ref={ref} url={musicState.url} playing={musicState.playing} width=\"100%\" height=\"100%\" onProgress={handleProgress} onDuration={handleDuration}></ReactPlayer>\n\n                </div>\n                {/* TODO: another div that has the lyrics */}\n\n\n            </div>\n\n\n            <div className=\"media-player-bar\">\n                {/* <h1>here to be</h1> */}\n                { renderInfo() }\n                <div className=\"play-controls\">\n                    <button className=\"rewind-btn\" >\n                        <FontAwesomeIcon icon=\"backward\" onClick={handleTimeBackwards}/>\n                    </button>\n                    <button className=\"play-btn\" onClick={handlePlayPause}>\n                        <FontAwesomeIcon icon={musicState.playing ? \"pause\" : \"play\"} />\n                    </button>\n                    <button className=\"forward-btn\" onClick={handleTimeForward}>\n                        <FontAwesomeIcon icon=\"forward\" />\n                    </button>\n                </div>\n\n            </div>\n        </div>\n    )\n}\n\nexport default Player\n","import React from 'react'\nimport './ResultItem.css';\n\nconst ResultItem = ({data, musicState, setMusicState}) => {\n    /* all posible kinds:\n    book, album, coached-audio, feature-movie, interactive- booklet, music-video, pdf podcast, podcast-episode, software-package, song, tv- episode,\n    */\n    const videoKinds = [\"feature-movie\", \"music-video\", \"tv-episode\"];\n    const musicKinds = [\"song\", \"coached-audio\", \"undefined\", \"podcast\", \"podcast-episode\"]; // kind undefined are usually audiobooks\n    const handlePlayer = (e) => {\n        // console.log(data.previewUrl)\n        \n        // ! Hard Coded visibility\n        let visible = false;\n\n        let contentType = \"other\";\n        if(videoKinds.includes(data.kind)) {\n            contentType = \"video\";\n            visible = true; // just visible if media = video\n            console.log(\"VIDEO: \", visible)\n        } else if (musicKinds.includes(data.kind)) {\n            contentType = \"music\";\n        }\n\n        setMusicState({...musicState, url: data.previewUrl, contentInfo: data, visible:visible, contentType: contentType, progress: 0})\n\n    }\n    return (\n        <div className=\"item-container\" onClick={handlePlayer}>\n            <img className=\"item-image\" src={data.artworkUrl100} alt=\"\" />\n            <div className=\"item-info\">\n                <h4>{data.trackName}</h4>\n                <h5>{data.artistName} | {data.primaryGenreName}</h5>\n\n            </div>\n        </div>\n    )\n}\n\nexport default ResultItem\n","import React from 'react'\nimport ResultItem from './ResultItem'\nimport './Result.css'\n\nconst Result = ({searchResult, group, musicState, setMusicState}) => {\n    console.log(searchResult);\n    return (\n        <div className=\"result-container\">\n            <h3>{group.replace('-', ' ')}</h3>\n            {searchResult.map( result => (\n                <ResultItem data={result} musicState={musicState} setMusicState={setMusicState}/>\n            ))}\n        </div>\n    )\n}\n\nexport default Result\n","import React, { useState } from 'react'\nimport './App.css';\n// import Form from './components/Form';\nimport Header from './components/Header';\nimport Result from './components/Result';\nimport Player from './components/Player';\n\nfunction App() {\n  const [searchResult, setSearchResult] = useState([]);\n  const [musicState, setMusicState] = useState({\n    url: \"\",\n    playing: false,\n    controls: true,\n    visible: false,\n    player: null,\n    contentType: \"other\",\n    contentInfo: {},\n  });\n  // setMusicState({\n  //   url: \"https://video-ssl.itunes.apple.com/itunes-assets/Video114/v4/d0/3a/cd/d03acd3e-6a79-6638-a9d2-574fc6744a43/mzvf_7590102703887704274.640x480.h264lc.U.p.m4v\",\n  //   playing: true,\n  //   controls: true,\n  // });\n\n  return (\n    <div className=\"App\">\n      <Header setSearchResult={setSearchResult} />\n      <ul className=\"kind-list\">\n        {Object.entries(searchResult).map(([key, value]) => {\n          console.log(value, key);\n          return (\n            <Result searchResult={value} group={key} musicState={musicState} setMusicState={setMusicState}/>\n          )\n        })}\n\n      </ul>\n      {/* <Result searchResult={searchResult} /> */}\n      <Player musicState={musicState} setMusicState={setMusicState}/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport { library } from '@fortawesome/fontawesome-svg-core';\n// import { fab } from '@fortawesome/free-brand-svg-icons'\nimport { faCheckSquare, faCoffee, faClock, faBackward, faPlay, faPause, faForward, faSearch} from '@fortawesome/free-solid-svg-icons'\n// import { faClockRotateLeft } from '@fortawesome/free-solid-svg-icons' \n// import { library } from '@fortawesome/fontawesome-svg-core'\n// import { fab } from '@fortawesome/free-brands-svg-icons'\n// import { faCheckSquare, faCoffee } from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(faCheckSquare, faCoffee, faClock, faBackward, faPlay, faPause, faForward, faSearch)\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}